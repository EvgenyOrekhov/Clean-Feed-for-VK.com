!function(){var e;e=JSON.parse('{"is-disabled":false,"groups":true,"mygroups":false,"people":false,"external_links":false,"links":true,"apps":true,"instagram":false,"video":false,"group_share":true,"mem_link":false,"event_share":true,"wall_post_more":false,"likes":false,"comments":false}');const n=["external_links","links","apps","instagram","video","group_share","mem_link","event_share","wall_post_more","likes","comments"].map(e=>`.cffvk-${e}`).join(),s="[id^='feed_repost-'], [id^='feed_reposts_']",t="[id^='feed_repost']",o="[id^='post-'].post_copy",a="{ display: none; }",i="{ display: block; }",r=`\n  ${s} ${i}\n  ${o} ${i}\n  ${t} ${i}\n  ${n} ${i}\n`,c=`\n  ${s} ${i}\n  ${o} ${i}\n  ${t} ${i}\n  ${n} ${a}\n`,$=`\n  ${o} ${i}\n  ${t} ${i}\n  ${s} ${a}\n  ${n} ${a}\n`,l=`\n  ${t} ${i}\n  ${s} ${a}\n  ${o} ${a}\n  ${n} ${a}\n`,d=`\n  ${o} ${i}\n  ${s} ${i}\n  ${t} ${a}\n  ${n} ${a}\n`,p=`\n  ${s} ${a}\n  ${o} ${a}\n  ${t} ${a}\n  ${n} ${a}\n`;var u=function(e){return e&&e.__esModule?e.default:e}(e);let m=u;function f(e){chrome.pageAction.setIcon({tabId:e,path:"disabled-icon16.png"}),chrome.tabs.insertCSS(e,{code:r}),chrome.tabs.sendMessage(e,{action:"disable"})}function g(e){if(m["is-disabled"])return f(e);chrome.pageAction.setIcon({tabId:e,path:"icon16.png"}),chrome.tabs.insertCSS(e,{code:m.groups?m.mygroups?m.people?p:l:m.people?d:$:c}),chrome.tabs.sendMessage(e,{action:"clean",settings:m})}chrome.runtime.onMessage.addListener((function(e,n){if("execute"===e.action)return m=e.settings,g(e.tabId);"activate"===e.action&&function(e){if(!/\/feed\?[wz]=/u.test(e.tab.url)){if(!e.tab.url.includes("vk.com/feed")||/photos|videos|podcasts|recommended|search|likes|updates|comments|notifications/u.test(e.tab.url))return chrome.pageAction.hide(e.tab.id),f(e.tab.id);chrome.storage.sync.get((function(n){0===Object.keys(n).length?chrome.storage.sync.set(u):m={...u,...n},g(e.tab.id)})),chrome.pageAction.show(e.tab.id)}}(n)}))}();