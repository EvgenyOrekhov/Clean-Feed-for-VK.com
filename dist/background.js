!function(){var e;e=JSON.parse('{"is-disabled":false,"groups":true,"mygroups":false,"people":false,"external_links":false,"links":true,"apps":true,"instagram":false,"video":false,"group_share":true,"mem_link":false,"event_share":true,"wall_post_more":false,"likes":false,"comments":false}');const n=["external_links","links","apps","instagram","video","group_share","mem_link","event_share","wall_post_more","likes","comments"].map(e=>`.cffvk-${e}`).join(),s="[id^='feed_repost-'], [id^='feed_reposts_']",t="[id^='feed_repost']",a="[id^='post-'].post_copy",o="{ display: none; }",i="{ display: block; }",r=`\n  ${s} ${i}\n  ${a} ${i}\n  ${t} ${i}\n  ${n} ${i}\n`,c=`\n  ${s} ${i}\n  ${a} ${i}\n  ${t} ${i}\n  ${n} ${o}\n`,$=`\n  ${a} ${i}\n  ${t} ${i}\n  ${s} ${o}\n  ${n} ${o}\n`,l=`\n  ${t} ${i}\n  ${s} ${o}\n  ${a} ${o}\n  ${n} ${o}\n`,d=`\n  ${a} ${i}\n  ${s} ${i}\n  ${t} ${o}\n  ${n} ${o}\n`,p=`\n  ${s} ${o}\n  ${a} ${o}\n  ${t} ${o}\n  ${n} ${o}\n`;var u=function(e){return e&&e.__esModule?e.default:e}(e);let f=u;function m(e){chrome.pageAction.setIcon({tabId:e,path:"disabled-icon16.png"}),chrome.tabs.insertCSS(e,{code:r}),chrome.tabs.sendMessage(e,{action:"disable"})}function g(e){if(f["is-disabled"])return m(e);chrome.pageAction.setIcon({tabId:e,path:"icon16.png"}),chrome.tabs.insertCSS(e,{code:f.groups?f.mygroups?f.people?p:l:f.people?d:$:c}),chrome.tabs.sendMessage(e,{action:"clean",settings:f})}chrome.runtime.onMessage.addListener((function(e,n){if("execute"===e.action)return f=e.settings,g(e.tabId);"activate"===e.action&&function(e){if(!/\/feed\?[wz]=/u.test(e.tab.url)){if(!e.tab.url.includes("vk.com/feed")||/photos|videos|articles|likes|notifications|comments|updates|replies/u.test(e.tab.url))return chrome.pageAction.hide(e.tab.id),m(e.tab.id);chrome.storage.sync.get((function(n){0===Object.keys(n).length?chrome.storage.sync.set(u):f={...u,...n},g(e.tab.id)})),chrome.pageAction.show(e.tab.id)}}(n)}))}();