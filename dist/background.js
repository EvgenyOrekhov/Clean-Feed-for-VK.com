!function(){const e={"is-disabled":!1,groups:!0,mygroups:!1,people:!1,external_links:!1,links:!0,apps:!0,instagram:!1,video:!1,group_share:!0,mem_link:!1,event_share:!0,wall_post_more:!1,likes:!1,comments:!1},n=["external_links","links","apps","instagram","video","group_share","mem_link","event_share","wall_post_more","likes","comments"].map(e=>`.cffvk-${e}`).join(),t="[id^='feed_repost-'], [id^='feed_reposts_']",s="[id^='post-'].post_copy",o="{ display: none; }",i="{ display: block; }",a=`\n    ${t} ${i}\n    ${s} ${i}\n    [id^='feed_repost'] ${i}\n    ${n} ${i}\n  `,r=`\n    ${t} ${i}\n    ${s} ${i}\n    [id^='feed_repost'] ${i}\n    ${n} ${o}\n  `,c=`\n    ${s} ${i}\n    [id^='feed_repost'] ${i}\n    ${t} ${o}\n    ${n} ${o}\n  `,d=`\n    [id^='feed_repost'] ${i}\n    ${t} ${o}\n    ${s} ${o}\n    ${n} ${o}\n  `,p=`\n    ${s} ${i}\n    ${t} ${i}\n    [id^='feed_repost'] ${o}\n    ${n} ${o}\n  `,$=`\n    ${t} ${o}\n    ${s} ${o}\n    [id^='feed_repost'] ${o}\n    ${n} ${o}\n  `;let l=e;function m(e){chrome.pageAction.setIcon({tabId:e,path:"disabled-icon16.png"}),chrome.tabs.insertCSS(e,{code:a}),chrome.tabs.sendMessage(e,{action:"disable"})}function u(e){if(l["is-disabled"])return m(e);chrome.pageAction.setIcon({tabId:e,path:"icon16.png"}),chrome.tabs.insertCSS(e,{code:l.groups?l.mygroups?l.people?$:d:l.people?p:c:r}),chrome.tabs.sendMessage(e,{action:"clean",settings:l})}chrome.runtime.onMessage.addListener((function(n,t){if("execute"===n.action)return l={...e,...n.settings},u(n.tabId);"activate"===n.action&&function(n){if(!/\/feed\?[wz]=/u.test(n.tab.url)){if(!n.tab.url.includes("vk.com/feed")||/photos|videos|articles|likes|notifications|comments|updates|replies/u.test(n.tab.url))return chrome.pageAction.hide(n.tab.id),m(n.tab.id);chrome.storage.sync.get((function(t){0===Object.keys(t).length?chrome.storage.sync.set(e):l={...e,...t},u(n.tab.id)})),chrome.pageAction.show(n.tab.id)}}(t)}))}();